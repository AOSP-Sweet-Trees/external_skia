    1. store_src_rg                   coords = src.rg
    2. init_lane_masks                CondMask = LoopMask = RetMask = true
    3. copy_constant                  $0 = colorWhite(0)
    4. copy_slot_unmasked             _0_x = $0
    5. zero_slot_unmasked             $0 = 0
    6. copy_slot_unmasked             $1 = _0_x
    7. sub_float                      $0 -= $1
    8. copy_slot_masked               _0_x = Mask($0)
    9. store_condition_mask           $11 = CondMask
   10. store_condition_mask           $53 = CondMask
   11. store_condition_mask           $74 = CondMask
   12. store_condition_mask           $46 = CondMask
   13. store_condition_mask           $90 = CondMask
   14. store_condition_mask           $85 = CondMask
   15. store_condition_mask           $8 = CondMask
   16. copy_slot_unmasked             $9 = _0_x
   17. copy_constant                  $10 = 0xBF800000 (-1.0)
   18. cmpeq_float                    $9 = equal($9, $10)
   19. zero_slot_unmasked             $86 = 0
   20. merge_condition_mask           CondMask = $8 & $9
   21. branch_if_no_active_lanes      branch_if_no_active_lanes +15 (#36)
   22. store_return_mask              $87 = RetMask
   23. copy_constant                  $88 = colorWhite(0)
   24. cast_to_int_from_float         $88 = FloatToInt($88)
   25. copy_slot_unmasked             x = $88
   26. zero_slot_unmasked             $88 = 0
   27. copy_slot_unmasked             $89 = x
   28. sub_int                        $88 -= $89
   29. copy_slot_masked               x = Mask($88)
   30. copy_constant                  $89 = 0xFFFFFFFF
   31. cmpeq_int                      $88 = equal($88, $89)
   32. copy_slot_masked               [test_iscalar].result = Mask($88)
   33. load_return_mask               RetMask = $87
   34. copy_slot_unmasked             $87 = [test_iscalar].result
   35. copy_slot_masked               $86 = Mask($87)
   36. load_condition_mask            CondMask = $8
   37. zero_slot_unmasked             $91 = 0
   38. merge_condition_mask           CondMask = $85 & $86
   39. branch_if_no_active_lanes      branch_if_no_active_lanes +16 (#55)
   40. store_return_mask              $92 = RetMask
   41. copy_2_constants               $93..94 = colorWhite(0..1)
   42. copy_2_slots_unmasked          x = $93..94
   43. zero_2_slots_unmasked          $93..94 = 0
   44. copy_2_slots_unmasked          $95..96 = x
   45. sub_2_floats                   $93..94 -= $95..96
   46. copy_2_slots_masked            x = Mask($93..94)
   47. copy_constant                  $95 = 0xBF800000 (-1.0)
   48. copy_slot_unmasked             $96 = $95
   49. cmpeq_2_floats                 $93..94 = equal($93..94, $95..96)
   50. bitwise_and_int                $93 &= $94
   51. copy_slot_masked               [test_fvec].result = Mask($93)
   52. load_return_mask               RetMask = $92
   53. copy_slot_unmasked             $92 = [test_fvec].result
   54. copy_slot_masked               $91 = Mask($92)
   55. load_condition_mask            CondMask = $85
   56. zero_slot_unmasked             $47 = 0
   57. merge_condition_mask           CondMask = $90 & $91
   58. branch_if_no_active_lanes      branch_if_no_active_lanes +18 (#76)
   59. store_return_mask              $48 = RetMask
   60. copy_constant                  $49 = colorWhite(0)
   61. cast_to_int_from_float         $49 = FloatToInt($49)
   62. copy_slot_unmasked             $50 = $49
   63. copy_2_slots_unmasked          x = $49..50
   64. zero_2_slots_unmasked          $49..50 = 0
   65. copy_2_slots_unmasked          $51..52 = x
   66. sub_2_ints                     $49..50 -= $51..52
   67. copy_2_slots_masked            x = Mask($49..50)
   68. copy_constant                  $51 = 0xFFFFFFFF
   69. copy_slot_unmasked             $52 = $51
   70. cmpeq_2_ints                   $49..50 = equal($49..50, $51..52)
   71. bitwise_and_int                $49 &= $50
   72. copy_slot_masked               [test_ivec].result = Mask($49)
   73. load_return_mask               RetMask = $48
   74. copy_slot_unmasked             $48 = [test_ivec].result
   75. copy_slot_masked               $47 = Mask($48)
   76. load_condition_mask            CondMask = $90
   77. zero_slot_unmasked             $75 = 0
   78. merge_condition_mask           CondMask = $46 & $47
   79. branch_if_no_active_lanes      branch_if_no_active_lanes +21 (#100)
   80. store_return_mask              $76 = RetMask
   81. copy_constant                  $77 = 0xBF800000 (-1.0)
   82. copy_constant                  $78 = 0xC0000000 (-2.0)
   83. copy_constant                  $79 = 0xC0400000 (-3.0)
   84. copy_constant                  $80 = 0xC0800000 (-4.0)
   85. copy_4_slots_unmasked          negated = $77..80
   86. copy_4_constants               $77..80 = testMatrix2x2
   87. copy_4_slots_unmasked          x = $77..80
   88. zero_4_slots_unmasked          $77..80 = 0
   89. copy_4_slots_unmasked          $81..84 = x
   90. sub_4_floats                   $77..80 -= $81..84
   91. copy_4_slots_masked            x = Mask($77..80)
   92. copy_4_slots_unmasked          $81..84 = negated
   93. cmpeq_4_floats                 $77..80 = equal($77..80, $81..84)
   94. bitwise_and_2_ints             $77..78 &= $79..80
   95. bitwise_and_int                $77 &= $78
   96. copy_slot_masked               [test_mat2].result = Mask($77)
   97. load_return_mask               RetMask = $76
   98. copy_slot_unmasked             $76 = [test_mat2].result
   99. copy_slot_masked               $75 = Mask($76)
  100. load_condition_mask            CondMask = $46
  101. zero_slot_unmasked             $54 = 0
  102. merge_condition_mask           CondMask = $74 & $75
  103. branch_if_no_active_lanes      branch_if_no_active_lanes +42 (#145)
  104. store_return_mask              $55 = RetMask
  105. copy_constant                  $56 = 0xBF800000 (-1.0)
  106. copy_constant                  $57 = 0xC0000000 (-2.0)
  107. copy_constant                  $58 = 0xC0400000 (-3.0)
  108. copy_constant                  $59 = 0xC0800000 (-4.0)
  109. copy_constant                  $60 = 0xC0A00000 (-5.0)
  110. copy_constant                  $61 = 0xC0C00000 (-6.0)
  111. copy_constant                  $62 = 0xC0E00000 (-7.0)
  112. copy_constant                  $63 = 0xC1000000 (-8.0)
  113. copy_constant                  $64 = 0xC1100000 (-9.0)
  114. copy_4_slots_unmasked          negated(0..3) = $56..59
  115. copy_4_slots_unmasked          negated(4..7) = $60..63
  116. copy_slot_unmasked             negated(8) = $64
  117. copy_4_constants               $56..59 = testMatrix3x3(0..3)
  118. copy_4_constants               $60..63 = testMatrix3x3(4..7)
  119. copy_constant                  $64 = testMatrix3x3(8)
  120. copy_4_slots_unmasked          x(0..3) = $56..59
  121. copy_4_slots_unmasked          x(4..7) = $60..63
  122. copy_slot_unmasked             x(8) = $64
  123. zero_4_slots_unmasked          $56..59 = 0
  124. zero_4_slots_unmasked          $60..63 = 0
  125. zero_slot_unmasked             $64 = 0
  126. copy_4_slots_unmasked          $65..68 = x(0..3)
  127. copy_4_slots_unmasked          $69..72 = x(4..7)
  128. copy_slot_unmasked             $73 = x(8)
  129. sub_n_floats                   $56..64 -= $65..73
  130. copy_4_slots_masked            x(0..3) = Mask($56..59)
  131. copy_4_slots_masked            x(4..7) = Mask($60..63)
  132. copy_slot_masked               x(8) = Mask($64)
  133. copy_4_slots_unmasked          $65..68 = negated(0..3)
  134. copy_4_slots_unmasked          $69..72 = negated(4..7)
  135. copy_slot_unmasked             $73 = negated(8)
  136. cmpeq_n_floats                 $56..64 = equal($56..64, $65..73)
  137. bitwise_and_4_ints             $57..60 &= $61..64
  138. bitwise_and_2_ints             $57..58 &= $59..60
  139. bitwise_and_int                $57 &= $58
  140. bitwise_and_int                $56 &= $57
  141. copy_slot_masked               [test_mat3].result = Mask($56)
  142. load_return_mask               RetMask = $55
  143. copy_slot_unmasked             $55 = [test_mat3].result
  144. copy_slot_masked               $54 = Mask($55)
  145. load_condition_mask            CondMask = $74
  146. zero_slot_unmasked             $12 = 0
  147. merge_condition_mask           CondMask = $53 & $54
  148. branch_if_no_active_lanes      branch_if_no_active_lanes +57 (#205)
  149. store_return_mask              $13 = RetMask
  150. copy_constant                  $14 = 0xBF800000 (-1.0)
  151. copy_constant                  $15 = 0xC0000000 (-2.0)
  152. copy_constant                  $16 = 0xC0400000 (-3.0)
  153. copy_constant                  $17 = 0xC0800000 (-4.0)
  154. copy_constant                  $18 = 0xC0A00000 (-5.0)
  155. copy_constant                  $19 = 0xC0C00000 (-6.0)
  156. copy_constant                  $20 = 0xC0E00000 (-7.0)
  157. copy_constant                  $21 = 0xC1000000 (-8.0)
  158. copy_constant                  $22 = 0xC1100000 (-9.0)
  159. copy_constant                  $23 = 0xC1200000 (-10.0)
  160. copy_constant                  $24 = 0xC1300000 (-11.0)
  161. copy_constant                  $25 = 0xC1400000 (-12.0)
  162. copy_constant                  $26 = 0xC1500000 (-13.0)
  163. copy_constant                  $27 = 0xC1600000 (-14.0)
  164. copy_constant                  $28 = 0xC1700000 (-15.0)
  165. copy_constant                  $29 = 0xC1800000 (-16.0)
  166. copy_4_slots_unmasked          negated(0..3) = $14..17
  167. copy_4_slots_unmasked          negated(4..7) = $18..21
  168. copy_4_slots_unmasked          negated(8..11) = $22..25
  169. copy_4_slots_unmasked          negated(12..15) = $26..29
  170. copy_4_constants               $14..17 = testMatrix4x4(0..3)
  171. copy_4_constants               $18..21 = testMatrix4x4(4..7)
  172. copy_4_constants               $22..25 = testMatrix4x4(8..11)
  173. copy_4_constants               $26..29 = testMatrix4x4(12..15)
  174. copy_4_slots_unmasked          x(0..3) = $14..17
  175. copy_4_slots_unmasked          x(4..7) = $18..21
  176. copy_4_slots_unmasked          x(8..11) = $22..25
  177. copy_4_slots_unmasked          x(12..15) = $26..29
  178. zero_4_slots_unmasked          $14..17 = 0
  179. zero_4_slots_unmasked          $18..21 = 0
  180. zero_4_slots_unmasked          $22..25 = 0
  181. zero_4_slots_unmasked          $26..29 = 0
  182. copy_4_slots_unmasked          $30..33 = x(0..3)
  183. copy_4_slots_unmasked          $34..37 = x(4..7)
  184. copy_4_slots_unmasked          $38..41 = x(8..11)
  185. copy_4_slots_unmasked          $42..45 = x(12..15)
  186. sub_n_floats                   $14..29 -= $30..45
  187. copy_4_slots_masked            x(0..3) = Mask($14..17)
  188. copy_4_slots_masked            x(4..7) = Mask($18..21)
  189. copy_4_slots_masked            x(8..11) = Mask($22..25)
  190. copy_4_slots_masked            x(12..15) = Mask($26..29)
  191. copy_4_slots_unmasked          $30..33 = negated(0..3)
  192. copy_4_slots_unmasked          $34..37 = negated(4..7)
  193. copy_4_slots_unmasked          $38..41 = negated(8..11)
  194. copy_4_slots_unmasked          $42..45 = negated(12..15)
  195. cmpeq_n_floats                 $14..29 = equal($14..29, $30..45)
  196. bitwise_and_4_ints             $22..25 &= $26..29
  197. bitwise_and_4_ints             $18..21 &= $22..25
  198. bitwise_and_4_ints             $14..17 &= $18..21
  199. bitwise_and_2_ints             $14..15 &= $16..17
  200. bitwise_and_int                $14 &= $15
  201. copy_slot_masked               [test_mat4].result = Mask($14)
  202. load_return_mask               RetMask = $13
  203. copy_slot_unmasked             $13 = [test_mat4].result
  204. copy_slot_masked               $12 = Mask($13)
  205. load_condition_mask            CondMask = $53
  206. copy_4_constants               $0..3 = colorRed
  207. merge_condition_mask           CondMask = $11 & $12
  208. copy_4_constants               $4..7 = colorGreen
  209. copy_4_slots_masked            $0..3 = Mask($4..7)
  210. load_condition_mask            CondMask = $11
  211. copy_4_slots_masked            [main].result = Mask($0..3)
  212. mask_off_return_mask           RetMask &= ~(CondMask & LoopMask & RetMask)
  213. load_src                       src.rgba = [main].result
